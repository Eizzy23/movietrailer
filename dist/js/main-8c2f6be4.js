(()=>{var e,t,s={819:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAA4CAMAAACfWMssAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAwFBMVEUAAAAgcN8saNsrZt0rat8sat8tad8sad8sad8tadwsad8qaNwsat8rad8oaN8padwtad8rad8wcN8rat8sauEsaN0raN8pZtwsaN8rZt8rad0sad8sad4taN4raN4tad8taN8saN8tat8waN8saN0tad8uZt8sad4sad4rad4sad85cuHl7Pt7oetGfOP///9ul+mwxvNGe+OVtO/Y4vmIq+3K2vdhj+fy9f2Jq+2WtO85c+GjvfFTheWwx/PX4/lYsXJgAAAAKnRSTlMAEEBwn8/fv69Q72B/3yBQj48Qz3+An1BAcHDPwKCwUGCAnyCQ73Dg0KC6Ue7aAAAAAWJLR0QvI9QgEQAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+UBDQgMFYosK6MAAAGuSURBVEjHndfbeoIwDADgogKK4pSd3KaoA3WrzO6ITnZ4/7daRZ1KmzYlt/B/SWpKKyGSsCrVmu1QHo5br1YILqyG69GT8OpNBGsV1Db8WrsMy6OloGcw22SFCrY6VBPdQOba51QbvqTctk9pGYlzosS6orTQjlL7eIU61CC6B9ekRtEwb3A3u/tiL6hhXO4SCg/mc1TKK+FBkjxhUgodLhhjybM2pbikG8jYy6tCXnNYByBjbzB1OfRAyOBWea09CkNOoaQVcqOEYKu3khZPIW9VBmvE1UJpq3fE0UPG3oV6fUIxUNIqFrLkoyRkSUmYLgsQtThs9Sksjo2B66z4Tp8M9DBdiO+E2pFjyVI+cuohF5v7H/LAU8GvDNhWfD+6MEy/of0YcjiEoLy5bYw4FGvN4Wqdwc7Jv3JjGfzJVF+5+xyKKX/Tpfq7GhF5SuQRIPtFlOFE++NqaAZHhwMyNnHx0Ykc2AaFnlx2Ise8QTNZdFgpOpy0I9llLtCubRwA98eRMulkCF9YI3j6JuNAeUeOBk4Zti04nBRUvxEg/wn0pmF/tjGzh8dpT6r+ADvWmQmg1pUBAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDIxLTAxLTEzVDA4OjEyOjA1KzAwOjAwr3gO7AAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyMS0wMS0xM1QwODoxMjowNSswMDowMN4ltlAAAAAASUVORK5CYII="},569:(e,t,s)=>{"use strict";s.d(t,{L:()=>n});class n{constructor(e){const{path:t,query:s}=e;this.path=t,this.query=s,this.url="",this.api="",this.apiKey=""}async movies(){this.api="https://api.themoviedb.org/3/",this.apiKey="6fa39716df5c82d1be46c3d685c8c56c";const e=this.query??"";return this.url=`${this.api}${this.path}?api_key=${this.apiKey}&query=${e}`,await fetch(this.url).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()})).then((e=>e.results))}async trailer(e){return this.api="https://youtube.googleapis.com/youtube/v3/",this.apiKey="AIzaSyDv8wAkRENMnAXnAqx4QsUs8ufDokXTXt0",this.url=`${this.api}${this.path}?part=snippet&channelId=${e}&maxResults=1&q=${this.query}&type=video&key=${this.apiKey}`,await fetch(this.url).then((e=>{if(!e.ok)throw new Error(e.statusText);return e.json()}))}}}},n={};function r(e){if(n[e])return n[e].exports;var t=n[e]={exports:{}};return s[e](t,t.exports,r),t.exports}r.m=s,r.d=(e,t)=>{for(var s in t)r.o(t,s)&&!r.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,s)=>(r.f[s](e,t),t)),[])),r.u=e=>"trailer-2e0e38fd.js",r.miniCssF=e=>"../css/"+{179:"main",955:"trailer"}[e]+"-"+{179:"undefine",955:"31d6cfe0"}[e]+".css",r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="movietrailer:",r.l=(s,n,i,a)=>{if(e[s])e[s].push(n);else{var o,l;if(void 0!==i)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==s||h.getAttribute("data-webpack")==t+i){o=h;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,r.nc&&o.setAttribute("nonce",r.nc),o.setAttribute("data-webpack",t+i),o.src=s),e[s]=[n];var d=(t,n)=>{o.onerror=o.onload=null,clearTimeout(p);var r=e[s];if(delete e[s],o.parentNode&&o.parentNode.removeChild(o),r&&r.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=d.bind(null,o.onerror),o.onload=d.bind(null,o.onload),l&&document.head.appendChild(o)}},r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var s=t.getElementsByTagName("script");s.length&&(e=s[s.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.f.j=(t,s)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)s.push(n[2]);else{var i=new Promise(((s,r)=>{n=e[t]=[s,r]}));s.push(n[2]=i);var a=r.p+r.u(t),o=new Error;r.l(a,(s=>{if(r.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var i=s&&("load"===s.type?"missing":s.type),a=s&&s.target&&s.target.src;o.message="Loading chunk "+t+" failed.\n("+i+": "+a+")",o.name="ChunkLoadError",o.type=i,o.request=a,n[1](o)}}),"chunk-"+t,t)}};var t=(t,s)=>{for(var n,i,[a,o,l]=s,c=0,u=[];c<a.length;c++)i=a[c],r.o(e,i)&&e[i]&&u.push(e[i][0]),e[i]=0;for(n in o)r.o(o,n)&&(r.m[n]=o[n]);for(l&&l(r),t&&t(s);u.length;)u.shift()()},s=self.webpackChunkmovietrailer=self.webpackChunkmovietrailer||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})(),(()=>{"use strict";var e=r(569);class t extends class{constructor(){this.loading=document.querySelector(".loading .circle"),this.containerPopularMovies=document.querySelector(".content-popular"),this.containerGenresMovies=document.querySelector("section#genre .movies"),this.linkGenre=document.querySelectorAll(".genre-nav a"),this.search=document.querySelector(".input-search"),this.genreNav=document.querySelectorAll(".genre-nav li"),this.ul=document.querySelector(".genre-nav ul"),this.next=document.querySelector(".next")}}{constructor(){super(),this.scrollLeft,this.onMouseDown=!1,this.startX=0,this.scroll=0,this.loading.classList.add("spin"),this.getPopularMovies(),this.event()}async searchMovies(t){if("Enter"==t.key)try{const t=this.value,s=await new e.L({path:"search/movie",query:t}).movies();console.log(s)}catch(e){console.log(e)}}clickingButtonPlay(e){e.path.some((t=>{"button"===t.localName&&r.e(955).then(r.bind(r,95)).then((t=>{(new t.Trailer).getTrailer(e)}))}))}async getPopularMovies(){try{const t=await new e.L({path:"trending/movie/week",query:""}).movies();this.updateUIPopularMovies(t),this.removeClassSpin()}catch(e){console.log(e)}}removeClassSpin(){this.loading.classList.remove("spin"),this.loading.parentElement.style.display="none"}updateUIPopularMovies(e){let t="";e.forEach((e=>{t+=this.templatePopular(e)})),this.containerPopularMovies.innerHTML=t}browseByGenre(){const e=this.dataset.genre;(new s).checkActiveClass(),this.classList.add("active"),(new s).checkGenreId(e)}event(){this.containerPopularMovies.addEventListener("mousedown",this.mouseDown),this.containerPopularMovies.addEventListener("mousemove",this.mouseMove),this.containerPopularMovies.addEventListener("mouseup",this.mouseUp),this.containerPopularMovies.addEventListener("mouseleave",this.mouseUp),this.containerGenresMovies.addEventListener("mousedown",this.mouseDown),this.containerGenresMovies.addEventListener("mousemove",this.mouseMove),this.containerGenresMovies.addEventListener("mouseup",this.mouseUp),this.containerGenresMovies.addEventListener("mouseleave",this.mouseUp),this.ul.addEventListener("mousedown",this.mouseDown),this.ul.addEventListener("mousemove",this.mouseMove),this.ul.addEventListener("mouseup",this.mouseUp),this.ul.addEventListener("mouseleave",this.mouseUp),this.search.addEventListener("keydown",this.searchMovies),document.addEventListener("click",this.clickingButtonPlay)}mouseDown(e){e.preventDefault(),t.onMouseDown=!0,t.startX=e.clientX,t.scrollLeft=this.scrollLeft}mouseMove(e){if(e.preventDefault(),!t.onMouseDown)return;let s=e.clientX;t.scroll=s-t.startX,"content-popular"==this.className?(this.scrollLeft=t.scrollLeft-t.scroll,this.scrollLeft==this.scrollWidth-this.clientWidth?this.nextElementSibling.style.cssText="opacity: 1":this.nextElementSibling.style.cssText="opacity: 0"):("movies"==this.className||"links"==this.className)&&(this.scrollLeft=t.scrollLeft-t.scroll)}mouseUp(){t.onMouseDown=!1}templatePopular(e){return`<div class="card">\n                <div class="thumbnail">\n                    <img loading="lazy" src="https://image.tmdb.org/t/p/w400${e.backdrop_path}" alt="Thumbnail" >\n                    <button data-btn='${e.title}'>\n                        <img loading="lazy" src="${r(819)}" alt="Trailer" data-btn='${e.title}'>\n                    </button>\n                </div>\n                <div class="card-title">\n                    <h3>${e.title}</h3>\n                    <span>${e.release_date}</span>\n                </div>\n                <div class="rating">\n                    <span>&#11088;${e.vote_average}</span>\n                </div>\n            </div>`}templateGenres(e){return`<div class="card">\n                <div class="thumbnail">\n                    <img loading="lazy" src="https://image.tmdb.org/t/p/w200${e.poster_path}" alt="Thumbnail">\n                </div>\n                <div class="card-title">\n                    <h3>${e.title}</h3>\n                    <span>${e.release_date}</span>\n                    <span>&#11088;${e.vote_average}</span>\n                </div>\n            </div>`}}class s extends t{constructor(){super(),this.event()}event(){this.genreNav.forEach((e=>e.addEventListener("click",this.browseByGenre))),this.linkGenre.forEach((e=>e.addEventListener("click",(e=>e.preventDefault()))))}checkActiveClass(){return this.genreNav.forEach((e=>{e.classList.contains("active")&&e.classList.remove("active")}))}async checkGenreId(t){try{const s=await new e.L({path:"trending/movie/day",query:""}).movies();this.updateUIGenreMovies(s,t)}catch(e){console.log(e)}}updateUIGenreMovies(e,t){let s="";e.reverse().forEach((e=>{e.genre_ids.includes(parseInt(t))&&(s+=this.templateGenres(e)),"all"==t&&(s+=this.templateGenres(e))})),this.containerGenresMovies.innerHTML=s}}(new s).checkGenreId(28),new t})()})();